{"ast":null,"code":"var _jsxFileName = \"/Users/kennielima/trial/src/components/CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst testContext = /*#__PURE__*/React.createContext();\nexport function CartProvider(props) {\n  _s();\n  const reducer = (state, action) => {\n    if (action.type === \"addlist\") {\n      // let totalAmount = 0;\n\n      const existingItem = state.list.filter(e => e.name === action.list.name);\n      if (existingItem.length > 0) {\n        existingItem[0].price += action.list.price;\n        existingItem[0].amount += action.list.amount;\n      } else {\n        state.list.push({\n          name: action.list.name,\n          price: +action.list.price,\n          amount: +action.list.amount\n        });\n      }\n      for (let eachstate of state.list) {\n        totalAmount += eachstate.amount;\n      }\n      console.log(totalAmount);\n      return {\n        list: state.list,\n        totalAmount\n      };\n\n      // for (let eachstate of state) {\n      //     if (eachstate.name === action.list.name) {\n      //          eachstate.price += action.list.price;\n      //          eachstate.amount += action.list.amount;\n      //         //return ([...state]);\n      //     }\n      //     totalAmount += eachstate.amount;\n      // }\n\n      // return ([...state, {\n      //     name: action.list.name,\n      //     price: +action.list.price,\n      //     amount: +action.list.amount,\n\n      // }]);\n    }\n  };\n\n  const [list, dispatch] = useReducer(reducer, {\n    list: [],\n    totalAmount: 0\n  });\n  // console.log(list);\n\n  return /*#__PURE__*/_jsxDEV(testContext.Provider, {\n    value: {\n      list,\n      dispatch\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"J0mxPTzMLdsyZCmilPg8FlKdEMo=\");\n_c = CartProvider;\nexport default testContext;\n\n// const saveList = (name, price,amount) => {\n//     setList([...list, {name, price, amount}]);\n// }\n\n// const existingItem = state.filter(e => e.name === action.list.name);\n// if (existingItem.length > 0){\n//     existingItem[0].price += action.list.price;\n//     existingItem[0].amount += action.list.amount;\n//     return ([...state]);\n// }\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","testContext","createContext","CartProvider","props","_s","reducer","state","action","type","existingItem","list","filter","e","name","length","price","amount","push","eachstate","totalAmount","console","log","dispatch","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kennielima/trial/src/components/CartProvider.js"],"sourcesContent":["import React, { useReducer } from 'react';\nconst testContext = React.createContext();\n\nexport function CartProvider(props) {\n\n    const reducer = (state, action) => {\n        if (action.type === \"addlist\") {\n            // let totalAmount = 0;\n\n        const existingItem = state.list.filter(e => e.name === action.list.name);\n            if (existingItem.length > 0){\n                existingItem[0].price += action.list.price;\n                existingItem[0].amount += action.list.amount;\n        } else {\n            state.list.push({\n                name: action.list.name,\n                price: +action.list.price,\n                amount: +action.list.amount,      \n            })\n        }\n                for (let eachstate of state.list) {\n                    totalAmount += eachstate.amount;\n                }\n                console.log(totalAmount);\n\n                return ({list: state.list, totalAmount})\n\n\n            // for (let eachstate of state) {\n            //     if (eachstate.name === action.list.name) {\n            //          eachstate.price += action.list.price;\n            //          eachstate.amount += action.list.amount;\n            //         //return ([...state]);\n            //     }\n            //     totalAmount += eachstate.amount;\n            // }\n\n            // return ([...state, {\n            //     name: action.list.name,\n            //     price: +action.list.price,\n            //     amount: +action.list.amount,\n                \n            // }]);\n        }\n    }\n    const [list, dispatch] = useReducer(reducer, {list:[], totalAmount:0});\n    // console.log(list);\n\n    return (\n        <testContext.Provider value={{ list, dispatch }}>\n            {props.children}\n        </testContext.Provider>\n    );\n}\n\nexport default testContext;\n\n    // const saveList = (name, price,amount) => {\n    //     setList([...list, {name, price, amount}]);\n    // }\n\n        // const existingItem = state.filter(e => e.name === action.list.name);\n            // if (existingItem.length > 0){\n            //     existingItem[0].price += action.list.price;\n            //     existingItem[0].amount += action.list.amount;\n            //     return ([...state]);\n        // }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1C,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,EAAE;AAEzC,OAAO,SAASC,YAAYA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAEhC,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IAC/B,IAAIA,MAAM,CAACC,IAAI,KAAK,SAAS,EAAE;MAC3B;;MAEJ,MAAMC,YAAY,GAAGH,KAAK,CAACI,IAAI,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKN,MAAM,CAACG,IAAI,CAACG,IAAI,CAAC;MACpE,IAAIJ,YAAY,CAACK,MAAM,GAAG,CAAC,EAAC;QACxBL,YAAY,CAAC,CAAC,CAAC,CAACM,KAAK,IAAIR,MAAM,CAACG,IAAI,CAACK,KAAK;QAC1CN,YAAY,CAAC,CAAC,CAAC,CAACO,MAAM,IAAIT,MAAM,CAACG,IAAI,CAACM,MAAM;MACpD,CAAC,MAAM;QACHV,KAAK,CAACI,IAAI,CAACO,IAAI,CAAC;UACZJ,IAAI,EAAEN,MAAM,CAACG,IAAI,CAACG,IAAI;UACtBE,KAAK,EAAE,CAACR,MAAM,CAACG,IAAI,CAACK,KAAK;UACzBC,MAAM,EAAE,CAACT,MAAM,CAACG,IAAI,CAACM;QACzB,CAAC,CAAC;MACN;MACQ,KAAK,IAAIE,SAAS,IAAIZ,KAAK,CAACI,IAAI,EAAE;QAC9BS,WAAW,IAAID,SAAS,CAACF,MAAM;MACnC;MACAI,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC;MAExB,OAAQ;QAACT,IAAI,EAAEJ,KAAK,CAACI,IAAI;QAAES;MAAW,CAAC;;MAG3C;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;;MAEA;IACJ;EACJ,CAAC;;EACD,MAAM,CAACT,IAAI,EAAEY,QAAQ,CAAC,GAAGzB,UAAU,CAACQ,OAAO,EAAE;IAACK,IAAI,EAAC,EAAE;IAAES,WAAW,EAAC;EAAC,CAAC,CAAC;EACtE;;EAEA,oBACIpB,OAAA,CAACC,WAAW,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAEd,IAAI;MAAEY;IAAS,CAAE;IAAAG,QAAA,EAC3CtB,KAAK,CAACsB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACI;AAE/B;AAACzB,EAAA,CAlDeF,YAAY;AAAA4B,EAAA,GAAZ5B,YAAY;AAoD5B,eAAeF,WAAW;;AAEtB;AACA;AACA;;AAEI;AACI;AACA;AACA;AACA;AACJ;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}