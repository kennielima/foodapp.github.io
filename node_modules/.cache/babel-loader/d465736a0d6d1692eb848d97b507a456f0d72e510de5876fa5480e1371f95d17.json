{"ast":null,"code":"var _jsxFileName = \"/Users/kennielima/trial/src/components/CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst testContext = /*#__PURE__*/React.createContext();\nexport function CartProvider(props) {\n  _s();\n  let defaultState = {\n    items: [],\n    totalAmount: 0\n  };\n  const reducer = (state, action) => {\n    if (action.type === \"addlist\") {\n      // const existingItem = state.filter(e => e.name === action.list.name);\n      //     if (existingItem.length > 0){\n      //         existingItem[0].price += action.list.price;\n      //         existingItem[0].amount += action.list.amount;\n      // } else {\n      //     state.push({\n      //         name: action.list.name,\n      //         price: +action.list.price,\n      //         amount: +action.list.amount,      \n      //     })\n      // }\n      //         // for (let eachstate of state) {\n      //         //     totalAmount += eachstate.amount;\n      //         // }\n      //         // console.log(totalAmount);\n\n      //         return ([...state])\n\n      for (let eachstate of state) {\n        if (eachstate.name === action.list.name) {\n          eachstate.price += action.list.price;\n          eachstate.amount += action.list.amount;\n          //return ([...state]);\n        }\n\n        totalAmount += eachstate.amount;\n      }\n      return [...state, {\n        name: action.list.name,\n        price: +action.list.price,\n        amount: +action.list.amount\n      }];\n    }\n  };\n  const [list, dispatch] = useReducer(reducer, defaultState);\n  // console.log(list);\n\n  return /*#__PURE__*/_jsxDEV(testContext.Provider, {\n    value: {\n      list,\n      dispatch\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"dgMWCPYrbqg3YUe8yViNCMnlV2k=\");\n_c = CartProvider;\nexport default testContext;\n\n// const saveList = (name, price,amount) => {\n//     setList([...list, {name, price, amount}]);\n// }\n\n// const existingItem = state.filter(e => e.name === action.list.name);\n// if (existingItem.length > 0){\n//     existingItem[0].price += action.list.price;\n//     existingItem[0].amount += action.list.amount;\n//     return ([...state]);\n// }\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","testContext","createContext","CartProvider","props","_s","defaultState","items","totalAmount","reducer","state","action","type","eachstate","name","list","price","amount","dispatch","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kennielima/trial/src/components/CartProvider.js"],"sourcesContent":["import React, { useReducer } from 'react';\nconst testContext = React.createContext();\n\nexport function CartProvider(props) {\n\n    let defaultState = {\n        items: [],\n        totalAmount: 0\n    }\n    const reducer = (state, action) => {\n\n        if (action.type === \"addlist\") {\n\n        // const existingItem = state.filter(e => e.name === action.list.name);\n        //     if (existingItem.length > 0){\n        //         existingItem[0].price += action.list.price;\n        //         existingItem[0].amount += action.list.amount;\n        // } else {\n        //     state.push({\n        //         name: action.list.name,\n        //         price: +action.list.price,\n        //         amount: +action.list.amount,      \n        //     })\n        // }\n        //         // for (let eachstate of state) {\n        //         //     totalAmount += eachstate.amount;\n        //         // }\n        //         // console.log(totalAmount);\n\n        //         return ([...state])\n\n\n\n            for (let eachstate of state) {\n                if (eachstate.name === action.list.name) {\n                     eachstate.price += action.list.price;\n                     eachstate.amount += action.list.amount;\n                    //return ([...state]);\n                }\n                totalAmount += eachstate.amount;\n            }\n\n            return ([...state, {\n                name: action.list.name,\n                price: +action.list.price,\n                amount: +action.list.amount,\n                \n            }]);\n        }\n    }\n    const [list, dispatch] = useReducer(reducer, defaultState);\n    // console.log(list);\n\n    return (\n        <testContext.Provider value={{ list, dispatch }}>\n            {props.children}\n        </testContext.Provider>\n    );\n}\n\nexport default testContext;\n\n    // const saveList = (name, price,amount) => {\n    //     setList([...list, {name, price, amount}]);\n    // }\n\n        // const existingItem = state.filter(e => e.name === action.list.name);\n            // if (existingItem.length > 0){\n            //     existingItem[0].price += action.list.price;\n            //     existingItem[0].amount += action.list.amount;\n            //     return ([...state]);\n        // }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1C,MAAMC,WAAW,gBAAGJ,KAAK,CAACK,aAAa,EAAE;AAEzC,OAAO,SAASC,YAAYA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAEhC,IAAIC,YAAY,GAAG;IACfC,KAAK,EAAE,EAAE;IACTC,WAAW,EAAE;EACjB,CAAC;EACD,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IAE/B,IAAIA,MAAM,CAACC,IAAI,KAAK,SAAS,EAAE;MAE/B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAII,KAAK,IAAIC,SAAS,IAAIH,KAAK,EAAE;QACzB,IAAIG,SAAS,CAACC,IAAI,KAAKH,MAAM,CAACI,IAAI,CAACD,IAAI,EAAE;UACpCD,SAAS,CAACG,KAAK,IAAIL,MAAM,CAACI,IAAI,CAACC,KAAK;UACpCH,SAAS,CAACI,MAAM,IAAIN,MAAM,CAACI,IAAI,CAACE,MAAM;UACvC;QACJ;;QACAT,WAAW,IAAIK,SAAS,CAACI,MAAM;MACnC;MAEA,OAAQ,CAAC,GAAGP,KAAK,EAAE;QACfI,IAAI,EAAEH,MAAM,CAACI,IAAI,CAACD,IAAI;QACtBE,KAAK,EAAE,CAACL,MAAM,CAACI,IAAI,CAACC,KAAK;QACzBC,MAAM,EAAE,CAACN,MAAM,CAACI,IAAI,CAACE;MAEzB,CAAC,CAAC;IACN;EACJ,CAAC;EACD,MAAM,CAACF,IAAI,EAAEG,QAAQ,CAAC,GAAGpB,UAAU,CAACW,OAAO,EAAEH,YAAY,CAAC;EAC1D;;EAEA,oBACIN,OAAA,CAACC,WAAW,CAACkB,QAAQ;IAACC,KAAK,EAAE;MAAEL,IAAI;MAAEG;IAAS,CAAE;IAAAG,QAAA,EAC3CjB,KAAK,CAACiB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACI;AAE/B;AAACpB,EAAA,CAvDeF,YAAY;AAAAuB,EAAA,GAAZvB,YAAY;AAyD5B,eAAeF,WAAW;;AAEtB;AACA;AACA;;AAEI;AACI;AACA;AACA;AACA;AACJ;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}